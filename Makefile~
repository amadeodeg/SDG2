#Opciones de simulacion
CC=gcc
#LDLIBS= -L. -lm5272_sim
#CFLIB_SIM_OBJS=m5272adc_dac_sim.o
COSAS=
#-----------------------
#Opciones de coldfire
#CC=m68k-elf-gcc
#LDLIBS= -L. -lm5272
#CFLIB_OBJS=
#-----------------------
CFLAGS=-g -Wall -Werror -I.
LDLIBS=-L. -lm5272_sim
#%.a:
# ar rcs $@ $^
#libm5272.a: $(CFLIB_OBJS)
#libm5272_sim.a: $(CFLIB_SIM_OBJS)
#visualizacionOsciloscopio.o interrupciones.o
SOURCES = main.c
OBJECTS = $(patsubst %.c, %.o, $(SOURCES))

libm5272_SOURCES = 
libm5272_OBJECTS = $(patsubst %.c, %.o, $(libm5272_SOURCES))

libm5272_sim_SOURCES = \
	lib/m5272adc_dac_sim.c \
	lib/teclado_matricial_sim.c
libm5272_sim_OBJECTS = $(patsubst %.c, %.o, $(libm5272_sim_SOURCES))

all: libm5272_sim.a main

main: $(OBJECTS)

clean:
	$(RM) *.o main
	$(RM) lib/*.o libm5272*.a

libm5272_sim.a: $(libm5272_sim_OBJECTS)
	ar rcs $@ $^